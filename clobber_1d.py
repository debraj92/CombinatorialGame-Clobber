import random
from game_basics import EMPTY, BLACK, WHITE, isEmptyBlackWhite, opponent
import time


class Clobber_1d(object):

    winning_black_positions = {"21122111", "211111212122", "221111211122", "112111121112", "112111211112", "11211221122", "211212211111", "212212111", "111211221212", "111222112112", "221211211", "111112111112", "1112221111", "121211112212", "112112221122", "121121121111", "211121222111", "111211", "212122121111", "111211111111", "212211121111", "11121121112", "221112111111", "21122212112", "111222112211", "221211211122", "111212121111", "212221112", "21211221121", "222121112111", "212112212112", "221122111112", "2111112", "122211112111", "21112211111", "112122121111", "211211111221", "211111121211", "21121212", "111111222111", "111221221112", "2111122122", "111212111112", "111211121222", "2111221112", "112111111111", "221212122112", "21121112211", "112111112122", "211211112111", "2211211", "2111222112", "211121111112", "21211111112", "21121", "212211211212", "111211112222", "211112211121", "111221211212", "112111221122", "2121212112", "222211112", "11221111112", "11211121111", "211121211221", "22111221112", "122112112", "221211111212", "222112111122", "211122211212", "12212111112", "211212112122", "212111211211", "11211122", "211211111", "2111111", "11112211112", "111112112111", "112111211211", "221112111121", "11211112", "22111121212", "111211211211", "21112211121", "12121121112", "212211112121", "112111211122", "222222211112", "212221211111", "11112122212", "111211121", "2221121212", "111122111112", "222222112111", "122111121212", "11112211211", "12112111112", "22112112112", "211221212", "21121122211", "22121221212", "12122111112", "221212112212", "11211112122", "221121212111", "112", "2222112111", "2112111111", "21121111222", "212121121111", "211121221212", "111112111122", "11112111212", "22221121212", "121211111112", "1221112111", "122211212112", "21111111121", "211111112111", "21111211221", "21121211211", "222111112", "112212121112", "211112112112", "111121121122", "222122111112", "111221111211", "111222211211", "2112211211", "212111121211", "21221211112", "11211222222", "111111122112", "211211112112", "212111211212", "211211212121", "111211112211", "11221122112", "121121111211", "11111111211", "2112211", "111121122122", "221122112", "212111112112", "22112211211", "211121121211", "2111112121", "211111221222", "11211112211", "2111112111", "21112111211", "211112221112", "212112111222", "12121111112", "211112211111", "1121211212", "211121121", "221222211112", "22121212", "211112212121", "11121122111", "11111112112", "12111122112", "121121111212", "111222121112", "11122121212", "22111112", "222121121112", "112221111122", "1122111211", "21111212212", "211111212221", "21221212112", "212111212112", "21212121121", "111121111", "111211121112", "221211112", "11211121121", "21111122122", "121111112122", "221221111112", "2122122112", "21121112122", "1111211122", "1122211111", "111121211121", "212221112111", "11211111111", "12111121122", "211112", "111211211222", "1211212", "21211122112", "112111211212", "21212212212", "211111122", "212211212122", "212111112212", "212111212212", "22211112111", "211212121112", "221111211211", "212111211112", "12111112111", "211211112212", "11112111112", "111222112111", "11121111222", "112111112211", "11212121111", "221212212111", "2112121212", "21211221211", "2121212111", "112111111222", "2111121111", "21122111122", "221122211211", "211111121212", "221222111212", "11212111121", "211112111112", "212112122", "122211121112", "221112112122", "11111212212", "1112211211", "21111121212", "12111111212", "121122121112", "11211111122", "2112221112", "111121121112", "2111121221", "21212111112", "121121111111", "111211212212", "211121211212", "211121121222", "211112111211", "211211222", "211112121112", "121111211221", "21212112222", "111211222", "112212112112", "211112112111", "211221112121", "111112111221", "212211111212", "122111211211", "212111211122", "212111211", "21111112211", "21112112221", "21122121121", "21111112222", "21122111121", "111212212111", "11121212112", "211222211111", "22122111112", "1112212112", "11112112111", "21121121221", "11122211112", "11112111111", "22211111211", "12112111111", "11121121212", "212222111112", "21112112121", "11212122112", "211111122122", "22112112111", "21112212211", "111121112212", "21212212122", "211211111212", "11111212121", "121111221112", "12111112", "211211121112", "211221212122", "212111111121", "211211211111", "112221121212", "11121111112", "11112122121", "22211211111", "211111222211", "21111222222", "211211221111", "11121121", "21221111112", "222122211112", "11211212211", "122212111112", "12112212111", "211211121222", "112111121221", "211212111121", "111121122222", "211212121211", "111121111222", "211111122111", "221112111", "222211112111", "2121121112", "11121221212", "121121112112", "211111112112", "12112111212", "122211111112", "221121212112", "11112221111", "212111121122", "11112111122", "211112121121", "221121112112", "221121111211", "112111111", "21122121211", "2221111211", "111112221122", "211221121111", "221211222111", "211222211112", "21122111111", "2121111121", "111112222112", "11111112", "212222112121", "21112111121", "121111211122", "221121111112", "211222121212", "121111111112", "12112111", "211211112122", "22212112111", "21112211122", "11211121211", "221211212112", "211111222111", "211211222111", "112112211122", "1112221121", "221212121111", "2211211211", "21111112112", "212111212", "22112111122", "122111211111", "111211222211", "21211211122", "212121121112", "111221112111", "2111122212", "211211122111", "21111111212", "212121111222", "112112212212", "1121112111", "111112122212", "22112111", "222121112112", "2222211112", "1111121212", "2122112121", "1121111112", "212212111211", "12112112111", "11111121212", "212121122112", "2111121112", "21121112112", "11211211111", "2221121111", "112112111211", "211211221211", "222112112112", "211111112122", "121121121212", "211112222", "212121121212", "211121112112", "211112221111", "2111111121", "22111111211", "21112211212", "11221211211", "211211111122", "11211121112", "222211211111", "221211112112", "21221111121", "212221111112", "222211211112", "21121212111", "111111111211", "2121211211", "111211222111", "111111211212", "21111111221", "1112111221", "212212211211", "22121112112", "11111122112", "112112222112", "211112222112", "2121112", "111121121211", "112112111111", "211121212111", "22111121121", "21112112112", "11112", "1111211222", "1121221112", "121121112211", "22211211112", "212122111112", "111221211112", "111211211112", "12111211122", "222112111", "21111121121", "2112122111", "212211111121", "211221221211", "22111112112", "111112221121", "12211121212", "222111121122", "11112111211", "22112121211", "212122111212", "211111212111", "212112211112", "112212112", "1121111", "11122211211", "121211121111", "112111122211", "211112121211", "111121212111", "12121111212", "211112111212", "21212111", "112211211", "122111111112", "1112112111", "121122121111", "112121112122", "1121121122", "1121212111", "212121222112", "221111121121", "2121111212", "111121121111", "221121111122", "11221221112", "12112121122", "222211111211", "221111112", "11111211211", "21111111", "121111121111", "111121121121", "21111121221", "1211112111", "21111111222", "2212112111", "212112112121", "1112111112", "121211211212", "211211221112", "122112111121", "2221112112", "111212211212", "221111211112", "111212212112", "22111211122", "121112111112", "111211111122", "21122112112", "12211211212", "212111111212", "2112111211", "211112112122", "21122", "221211212", "211112111", "21212112112", "2111211212", "221211111121", "111112111111", "2121222111", "212212112", "11121111121", "211122112121", "11221121111", "121111222111", "2111211121", "11211111221", "111222121121", "11211212112", "11222111112", "111121111211", "211222112111", "221112112", "121121112111", "212211121", "222112211211", "11122112", "21111122222", "211112221", "121121112", "211122111", "211211211112", "221221112", "111212112121", "121122112", "221111121212", "211111221211", "121121111221", "222221112112", "212121211111", "121121111", "211211211212", "21121211112", "11211112112", "12121121212", "112112112112", "111212111212", "112112111212", "11221121121", "212121111112", "112111112111", "211222112", "221122211112", "11121221121", "11211121222", "11121111111", "211111221", "211111211121", "211221122", "11112112122", "212112212111", "211111121112", "2121121111", "211112112222", "211111222121", "22222211211", "121111121112", "112211121111", "11112221121", "112112211211", "212112212", "11122112111", "12111211121", "212121121122", "211121112", "211121221121", "111211212111", "2111221211", "211211211121", "211122111211", "1121112112", "222112121211", "2112121112", "121121211111", "21221111212", "21111121122", "22112112122", "222111122112", "111111112112", "11212112122", "112111211", "11121121222", "1211121111", "112121112111", "21211121221", "111211212211", "112211211211", "21211212122", "11222111221", "111211111222", "21222122112", "112111122111", "211111", "22111211222", "211111221212", "111112112", "211111111212", "222221111211", "11121111212", "221122112111", "11111122211", "121221111112", "212122211122", "121121222111", "211111111211", "21211211221", "221121112121", "111121122112", "21211212211", "111112111212", "111112212112", "2121112111", "212112121122", "111221112", "1111121121", "212112122112", "2111112212", "111112121212", "211112112121", "211222211", "212211111112", "22221112112", "211111112212", "112112122", "212122121112", "122211112", "111211111121", "12211122211", "111211111221", "211212112212", "2111122222", "2112121121", "11211222", "1112111", "212112121212", "211112111122", "111212221211", "211211211", "111121221212", "21111211112", "221111122211", "121112111211", "1122111112", "112122111112", "222211112112", "121111112212", "21112112111", "1211111212", "222121111212", "212211112212", "212111211222", "222112121112", "212121122", "21111211222", "1121122112", "111111121122", "11122211111", "211111212212", "211121211211", "22121212111", "212111211111", "212121122111", "11122111112", "211121121121", "221112111211", "21121111111", "2111121122", "21122221111", "211211121212", "21111111112", "111221122112", "112111111122", "121121111112", "2211121111", "211211112211", "111112121211", "21121222212", "211221111111", "2121211122", "22112121112", "111111212121", "21122112122", "112111121121", "21111112122", "211111221121", "211211111211", "111211112121", "221121111111", "111211122111", "22212111112", "211121112121", "111111211111", "111121122", "112211121212", "2122121111", "221121122", "21111112121", "111121212122", "212121121121", "112121211122", "1112111212", "121121111121", "111211122212", "111112221212", "111222112122", "21121111211", "212212121212", "121211111212", "1121122111", "22112121121", "212111122212", "21121111", "11212212112", "21112122121", "112121112", "12211121111", "21121111212", "2121211111", "111211112111", "11211112222", "111121121212", "212212111111", "2122111211", "22222211112", "211221111122", "211211212112", "211211222112", "111111211211", "111111112", "11121111122", "211112222211", "211112212112", "212121211212", "221211221212", "21212111122", "211121211112", "112111111221", "211222111112", "21221121121", "11212212111", "112112121212", "2111", "121111121122", "211211122222", "21121212212", "122121111211", "121211221112", "2111112222", "22211112112", "211112211222", "21221112112", "112121211222", "1211111112", "111222111", "111211121211", "211122121212", "212121221112", "112211111112", "2111212122", "111121111121", "111211111212", "221122211111", "22121121122", "211211111111", "211121212112", "112112121112", "11112121212", "111211222112", "11211211", "221111121122", "21221211111", "112111221", "11112121211", "11112221122", "21211121222", "212121111", "2211121212", "211211212212", "21122112111", "11111211", "1122112111", "211121121112", "211111122212", "12222111112", "112122122112", "111222121212", "12112112211", "12112121111", "22211211122", "12212211112", "111122112112", "211212122112", "221111111211", "11221112112", "221211121112", "112112222211", "121111211121", "11112221212", "22221111211", "21221221212", "112221122111", "21211121121", "21111212121", "22211112", "112112111221", "21111112111", "211111211", "211112122", "21121111112", "21111222112", "212121212112", "211111222112", "21212222112", "11211121212", "211122122112", "212211121221", "11222212112", "111121221121", "121112212111", "122111111211", "211112211", "1112112112", "212121122211", "211221111112", "222111211212", "21222121111", "21221211211", "2111121", "212121211112", "12212211222", "122111211", "2121111211", "212121111111", "21112221112", "22121111112", "2111111122", "1112112122", "21121221222", "21112121111", "122121111112", "22112121212", "221111111112", "211122122111", "21212111111", "221121121212", "11121122211", "21212112", "211212211", "2111111212", "11212111212", "111212112111", "112121121111", "21111121", "212212112111", "112111212111", "11112112112", "21211121111", "2112122", "212121212212", "2112111222", "11111211121", "111212212", "111212221112", "1211222111", "1112112211", "1211112", "111211221121", "21121111122", "2111112112", "121211211121", "22111211111", "11211211112", "211111121121", "211122212", "212211212", "111222111212", "111112211112", "211212211212", "11211111212", "211221111211", "221211111112", "112111111212", "12112122112", "21212122112", "1111122112", "21112112212", "22211211211", "22111211112", "112121111212", "22211221221", "21212211112", "21211122211", "112121121112", "212122112122", "221222121112", "222112111112", "112121211", "112211222111", "22121122112", "11121122222", "21111212112", "12111121112", "11121112211", "111111221112", "21212121122", "221112221212", "2211111112", "222112121212", "122111121121", "112111111211", "2111111221", "11112121112", "21111121112", "21221211122", "112211211112", "21111111111", "21212122122", "111211211", "211112111222", "211211121122", "21112122112", "1112211112", "221121112211", "111222212112", "211121112122", "122121112112", "212112121111", "1121121112", "21121212112", "121122111112", "212111211221", "111221122211", "12111112212", "121111212112", "1221111112", "211212111112", "111212212122", "21112121112", "121111112", "21122211112", "1121111212", "112221111112", "111211121121", "211121111212", "111121222121", "211121112111", "21212122111", "211121212211", "211221112112", "1112121212", "22112", "121122112111", "11212211212", "221122111211", "121121211112", "212212112112", "21212", "21121221211", "112112111112", "1121122211", "11111211222", "1121212112", "111121111122", "21211121122", "211111111112", "22111112111", "121111212", "1211211111", "11112112", "221211121121", "21212112212", "112111211222", "211211", "211211121221", "221121122111", "11122111211", "11111222111", "21122111212", "11121121121", "1111211212", "111121122211", "21111222211", "2212111212", "111112111211", "221111121111", "121111121121", "2111122", "2111122111", "111122211", "12112211212", "122122112111", "21221121211", "211111111121", "1121111211", "211111221111", "211112222122", "211111122211", "211212222111", "212121221111", "1111112", "111121111111", "21212111211", "112121211112", "11211", "222211211211", "21112212112", "112111221211", "222111121111", "1112111122", "121111122112", "211212121212", "112111112222", "12212111212", "112112222111", "121211122112", "2121111112", "112122112112", "112221112112", "1111221112", "211111121122", "21111221221", "112121222111", "22212212112", "211211112", "12121112", "12112121212", "221122121212", "112111121111", "211121111211", "221121121111", "111112111121", "221111211111", "21111221212", "2111111112", "112111121212", "221211121211", "111112221111", "211111121111", "212111111211", "211112112211", "2112222111", "2221111112", "211111211112", "21211112121", "11112222112", "21121112", "21121122112", "1111121111", "211112222111", "22121111211", "122111211112", "211222112112", "22112111112", "12111111112", "121112112121", "211121211", "1121121111", "221112121211", "222112211112", "2111112211", "111122121212", "12221121112", "112111211111", "222221121212", "212212111212", "22121111121", "11211211211", "22221111112", "21111122212", "111111211122", "1111211121", "212121111221", "121111211111", "22112111121", "222222111112", "21122121112", "212121122122", "211211212211", "211212112", "2212211112", "212121112211", "112112112122", "21111112212", "112222211112", "211121122112", "112112", "212112221112", "212211111211", "121222111112", "121111121211", "112121211111", "112112112222", "21111221121", "112111221111", "2111111222", "21111122112", "121221112111", "212112122111", "112112221111", "211111222222", "212121111211", "221111211", "212211221112", "11211111", "12111211212", "111111121111", "212111121121", "21211111121", "211212211112", "212111222122", "11212111211", "211111112222", "21111122121", "111222121211", "211211122211", "211212111212", "112111212", "21111122221", "21212112211", "121222121111", "211112112", "21211121112", "111221121111", "112111212112", "221221121111", "112211122112", "112222211211", "221111212212", "211221121212", "21212221111", "211221111222", "1121212", "111212112212", "12112112112", "12121211112", "21111122111", "2121211", "21112122211", "1112121211", "222112111111", "1211212111", "212121211211", "12112111121", "211211111112", "2121121211", "112122212111", "211111111111", "221121111121", "212121211222", "21112112122", "21122122212", "111222111121", "211221111", "211112111221", "211111211211", "111122111211", "2122211112", "1112121121", "2112112111", "111211212", "211211221", "21122121212", "221212111112", "2212112", "121221212112", "21111222111", "211111222", "21211112212", "111211121111", "211112122111", "2212121112", "21122221212", "212121211121", "2222111112", "21221121112", "211221111121", "11212111112", "211211211222", "1112111211", "112211211111", "111111211222", "211221112211", "211112211212", "1112111111", "211121211222", "111112121121", "111122112", "21121112212", "12211211112", "221121111212", "21111221122", "212112121", "2112121211", "211211121121", "121211121122", "211221121", "221211211112", "2121212", "211111121", "211112221222", "1111112112", "211211112222", "21111211211", "112122211112", "12121112122", "22211111112", "121221211111", "21211112122", "211111121221", "11211122111", "11121122", "112112222222", "211111111122", "111211222222", "21112112", "211212111211", "112122111211", "112211112112", "211211122112", "222112112111", "211212212112", "21221121212", "21222121112", "11121112111", "2211112", "212211121112", "112111122222", "211122112212", "2112211112", "2111111111", "222111112112", "212111222111", "211121211111", "221111222111", "11112121121", "211212112112", "11111211212", "11212112212", "221211211111", "21212121111", "211122122", "221112112112", "121112111", "21111212211", "212111112", "121112211112", "1111111211", "211111122222", "221212112121", "11121111211", "221211112111", "22111211212", "221112212112", "212112121112", "211221221112", "2112111112", "212121221122", "111111121121", "11211212212", "12211112112", "2121112112", "111211112122", "212221111212", "121112111121", "2111211112", "2112211111", "222111121212", "212122112111", "211111122121", "11112112222", "212121122222", "111221211211", "2112111212", "11111121121", "11121211212", "211111112211", "22121112121", "21222111112", "212111112121", "221211111211", "212121112111", "211122111121", "111112122121", "1111212121", "112112222", "12111121121", "111122211111", "2111221111", "12211111211", "111211221111", "112221111", "221112211112", "1121121212", "121121211122", "212111121", "221211211211", "11221211112", "21212112111", "11211111222", "11121212111", "21211211212", "211111112", "1211211122", "21111121222", "211121212", "21112111212", "222112111211", "222211211", "111112112112", "121212112112", "221221211112", "111111211112", "111121122111", "211121121122", "222221111112", "222221121111", "112112111", "221112121121", "111221211121", "2211111211", "112112211", "111222111111", "1111211112", "121112121111", "221112111212", "222111111112", "111121211212", "121211222212", "211122212111", "1122211211", "1111111112", "111112112122", "122111112111", "21211211111", "2112112", "111212121112", "221221121212", "21212111221", "11222111212", "21211112112", "111222211112", "112221111211", "21211111212", "112121111121", "112211121122", "2112212212", "11222112112", "111121112111", "212111212111", "211221111212", "221112211211", "122111112", "211", "221112121112", "222111112111", "212211112112", "112112112", "12211111112", "212211212111", "212111221112", "21121121122", "22121211212", "212111112122", "211111211111", "211122111212", "221111211222", "211112212212", "12122121111", "12112112212", "211211111222", "2111212", "112221111111", "112222111112", "112221121111", "211121112221", "1111112111", "111211221221", "12121211111", "112112121211", "121112212", "11121111", "212212111112", "12212112112", "121121121112", "11111121122", "21111121111", "111211212112", "221111122112", "211222211211", "2121121", "22212111212", "21121121212", "112112211111", "121112122111", "11211222211", "212112112212", "211212112111", "211212112221", "1121112212", "11111121111", "22112211112", "211111111222", "11222121112", "112212112111", "12112", "221121221112", "211112111111", "212111122112", "11111211122", "112211112111", "11222211211", "1112221122", "221112112111", "112111222112", "211122112112", "212122112", "211221122111", "112111112112", "211121121111", "111211122", "221111221112", "21222111212", "221121212", "11111221112", "11211221111", "112111122", "2111122211", "1121111222", "2112112112", "112111", "111211122121", "21112111112", "1121111122", "212111121112", "211111211122", "2211211111", "211121211122", "212111221212", "111111212212", "221121111222", "111111121212", "211211211122", "11111211111", "2222211211", "211122111111", "21211212112", "22111122112", "1221211112", "112211111211", "2111211211", "111211112", "211112121212", "21112121", "211212212", "21111", "1111122211", "212121111122", "11221211212", "211221121112", "11121121111", "11211111211", "111121212", "22221121111", "11212121122", "112112122111", "111112", "121212111111", "122112121112", "211111212", "12112221111", "212112111211", "121211121112", "21112122212", "11211222111", "111121111112", "11121212122", "211112221211", "21212212111", "211212211122", "21121121112", "11121121211", "112121121211", "111121112112", "21111111122", "121211212111", "211222111211", "111211211122", "22111211121", "211111111", "211112122122", "221121111", "2111121212", "11221111211", "21122112211", "112112211112", "21121222112", "212121222111", "211112221122", "212111121111", "21211121211", "121111211212", "21112121122", "111112112211", "22222111112", "12112211112", "211111112121", "12111121111", "211111221122", "1122211112", "221121121112", "211211122", "221111112111", "11222111", "211221212111", "21222212112", "121122211111", "21111211122", "11122211", "21211221112", "111221121212", "212221212112", "22211211", "211121112212", "111211111211", "111222111112", "1122112", "111121121", "1212112212", "212112112112", "11112111221", "112111112", "121211212122", "21122211211", "21111121211", "21111222", "121121112122", "1111121122", "111212121122", "12111121211", "21121211212", "112121212112", "22122121212", "211122121122", "12221111112", "111111211", "111221111112", "121112121212", "2122111112", "111221112112", "21111112221", "111112121112", "1112112222", "2211112112", "111121112211", "211212122212", "211111222212", "212212211112", "2112111122", "211111111221", "211211211211", "111122211211", "112111121211", "1111222111", "122112111212", "211122211112", "212111111112", "22222112111", "112112111122", "112222112", "111121221112", "121211112111", "11112111121", "112111111112", "22121121211", "222111211112", "121111112111", "11212112111", "112211112", "211122121111", "11212121211", "211111211222", "21112121211", "222112112", "21211111211", "21121111221", "2111212112", "111111112111", "11211211222", "111211221122", "212112111112", "21122111112", "112111121122", "212121112", "122121112212", "21212121212", "11222211112", "211111221112", "22111111112", "222111111211", "211121222122", "21121222211", "22111211211", "111211121212", "111211211111", "121211211112", "11221112111", "22112111111", "11121122112", "11121221211", "1121112211", "111122112111", "112112112211", "211112211211", "211122111122", "211122111112", "12111221112", "211121111121", "1121122222", "21212112121", "11111112111", "121211212", "211212122121", "1211212112", "2111122112", "2211112111", "1111211211", "22111121122", "211121122121", "211121121212", "1212111112", "112121211211", "21211112111", "1121111111", "1212121111", "112111212212", "21111221111", "111122211112", "212111121222", "111212211121", "21211212111", "121112111111", "111121111212", "12112111211", "11112111", "112112112111", "11211222112", "2111111211", "212112111121", "211211121111", "21111211", "212112111", "11112112211", "111211112221", "111211111", "22121121111", "112121111112", "212111112111", "212212111122", "112222112111", "222211111112", "211111211212", "1112221212", "1121122", "12111112122", "111121112121", "211112211122", "221121211212", "121221121112", "211111212112", "222222211211", "21121121111", "11222112111", "22212111211", "111112112222", "111111211121", "21111112", "22112111212", "111111122211", "212112111212", "22121121112", "11111111112", "1112111121", "22111211", "11211111112", "1112222112", "1111211111", "2121211112", "212112111111", "22111121111", "112111122112", "21211211121", "12111211111", "11212121112", "11121212", "1211121112", "2121211222", "22121111212", "11211211122", "111112211211", "112111221112", "211111112221", "212211212112", "121121111122", "11121121122", "111212111211", "111211111112", "211212212111", "221112111112", "222112111212", "112112211222", "211111122112", "112211121121", "112111211121", "11222111111", "12112111122", "1112", "211112211112", "21111122211", "111211112112", "1111211", "111221121122", "22112221111", "21121221112", "21121121121", "221111112112", "122111112112", "212122211111", "111212122112", "21211122212", "112111112212", "111112111", "221112111122", "121212211112", "111121221211", "121112112112", "212121112112", "2121112122", "1111212212", "21111111211", "211221211212", "2211121121", "211112222222", "121111111212", "21111122", "112121111211", "111222111122", "2211222111", "11221121212", "211212121122", "11211112111", "12122121112", "2211211112", "111111111112", "21121112222", "211221212112", "22111212212", "21212122"}
    winning_white_positions = {"2222122222", "122222222", "222212212221", "1212222212", "22211122221", "222122122111", "212222121", "122121222212", "12111121221", "122122122211", "122122211221", "111222221", "221222211122", "2212211122", "12211112222", "22121212221", "212122211221", "1221212221", "221222212112", "222111212122", "112221122221", "11112222221", "2212211111", "112211222122", "2222222221", "121212212212", "12121221221", "122212121", "121211222221", "122222212112", "122222221221", "122111122", "21222212212", "12112122122", "1212122122", "112211122122", "122122212112", "211122221", "122222211111", "121221121222", "12212121222", "122121122222", "1212221221", "121222122211", "112212122121", "121221222", "222212222111", "122112121", "112212211222", "1111122122", "22222221", "122211212211", "221221212122", "11122222122", "22222111222", "122222121221", "221221112222", "222222121212", "22112221221", "112221122122", "1122122221", "22211222122", "11222122121", "212122212221", "122222211222", "11111222221", "212212222221", "122112212221", "12121221111", "212122122212", "1122222221", "22212222212", "221212111222", "12122112122", "2211222221", "222122222111", "222112211122", "221212122222", "21121122221", "12121212121", "222112122212", "22212122121", "12211221122", "12222121221", "12222222121", "221112222211", "121122222122", "12211212122", "221111122122", "221121221221", "21212212221", "1222122121", "11222122", "2221222122", "121212221122", "212222112221", "222111222222", "12211221211", "122221111221", "122221211222", "221221111122", "21121222121", "122112121222", "221211211221", "2221112211", "222122212221", "222212212122", "12222212121", "221211222221", "122221222121", "2221212122", "22122212122", "121212211211", "221221211", "112122222122", "111221212221", "22212222211", "222122111111", "112221222121", "122122222111", "122211222122", "212221212121", "221222221122", "212221222", "12121222222", "1122122122", "1111122221", "11121121221", "121222121221", "121221221121", "22222122222", "212222221", "12222212", "112212221212", "12121", "112122222221", "112122122", "22212212222", "112222122222", "12111212222", "222221212212", "22112212121", "122121211221", "22122111122", "112212112221", "1112221221", "222111222221", "222212121", "12222", "22212222221", "112222122211", "111112222122", "22221112222", "212221222122", "11221221221", "22222112221", "121121222121", "122211222211", "222211222122", "111222211221", "2121221121", "222212111212", "222222122221", "122221221111", "121111222221", "11221122221", "222122221122", "211121222221", "1212121", "121122221212", "22211122", "2121212222", "211222212212", "122222222112", "122222122121", "11122221222", "22122111", "12111222121", "121212212121", "121211221", "12212222211", "122121212122", "22212221222", "222122212", "122222222121", "121221212", "221222222111", "222222112221", "112111212221", "12222111221", "1221222122", "221212222212", "11222222221", "122112222111", "122112211222", "22121221211", "2122222221", "121122121211", "121112121221", "1221122222", "221222211222", "222221222212", "212222122222", "122112122121", "1222211122", "1221122", "22121122121", "112211221", "222122222221", "111212212221", "22221111221", "122122211", "112211122221", "121212221", "221212122221", "122122111", "12112212121", "222121211221", "1211122221", "21221212211", "222112222221", "221222121", "222111212212", "122212221", "222222122211", "22212211122", "21221121222", "112121222221", "112222212121", "222222211122", "1222221222", "122121122221", "11222212211", "12121221122", "12222211222", "211212221121", "122211222212", "1222211111", "222122112212", "122222211122", "121212111221", "121121122122", "21222212221", "211122222221", "2212222211", "112222112221", "2212222", "12212112221", "222221222211", "112221212122", "222112222122", "222121222122", "122121121", "121212222221", "222221112121", "12211222212", "122122221221", "121222221221", "222121222121", "122121221", "22112222221", "12222122111", "122222221212", "122121121222", "222221", "22221222222", "212122212222", "221211221221", "222122112211", "221222221222", "222222122111", "222222122212", "122221222222", "12221211221", "122212122122", "2221222121", "122112212121", "12222222212", "122212222121", "12222122221", "122212111222", "12122122121", "1212121221", "11212221221", "2222122", "1121212221", "212222212211", "12121221121", "221112222122", "11111122221", "121221211", "22111221222", "12122222221", "122222111121", "111122122221", "11222112221", "122221221212", "212222222121", "121212222222", "222122122222", "11222122212", "2212112221", "121212222", "122222112222", "22122221211", "222111122122", "121222122121", "2221221111", "121121221", "22221212212", "22212222", "12222221121", "111122122", "221221222222", "12222112121", "221221222122", "111111122122", "2212222121", "12122212212", "12222111222", "212222122212", "12212221", "112222211221", "222221222222", "122222122222", "222222212121", "211222122221", "22111222112", "2222121121", "12121122221", "222122122", "121222121121", "121222222212", "12112122221", "11212222122", "11212212221", "2221121221", "221121212221", "122112212", "212222221121", "12222221111", "122212221112", "21222122222", "122221112122", "112121212222", "122112222121", "222121122121", "112112212121", "122221", "122222212", "222122122122", "112122122122", "111122221", "122111122221", "11221222", "22212121211", "122222212122", "122121221211", "122122122121", "221121221222", "122222112121", "2112222221", "112222122", "221221122221", "22122121122", "11222221221", "122211221212", "22221222", "222111222121", "11122122211", "1222212121", "221122122222", "112212212222", "11121222122", "221221111222", "221222212222", "221222222112", "1222222222", "122222122122", "1221221", "1221211", "12112222221", "1221212122", "222221222121", "222122222212", "212222222221", "221112212222", "212112212221", "122221212221", "1111222221", "2222212121", "221221222112", "12122212211", "122222121112", "12222221", "122222211", "1222221122", "22212212122", "12212221111", "112222111222", "122122121221", "2211221", "112212121222", "12222122112", "12121121121", "122122121121", "12212121221", "222221221222", "222212221121", "12222222112", "22122112211", "12211212121", "22112212222", "2122122211", "111222122121", "121221212222", "221112222", "222122221111", "1222221121", "21122221221", "222121212222", "222211221", "121121221222", "121121212121", "22222122122", "122122112221", "222122212222", "2212222122", "122122222122", "212111222221", "12121222122", "22221221122", "122222211121", "12221122211", "122221212121", "122212221222", "21222222221", "222212212121", "222222121121", "122212222122", "21222122121", "121221221221", "221212122122", "122222", "12121111221", "12222221222", "122112222", "2122121221", "22212121221", "221222112", "1212122", "22122221111", "1222121221", "221221221221", "2212222222", "2221212212", "222222212211", "221212221", "212122112221", "122212122222", "221222212122", "112212221221", "2212212222", "221211121222", "1111221222", "211212221221", "11112212222", "121222212212", "112212222111", "111221222221", "212221222222", "21221212121", "11221222121", "222122221221", "12212212221", "122122122111", "11222211221", "221121221", "11212222121", "222122112112", "121222122112", "112211222221", "12212212212", "111122222122", "12221212222", "21221212222", "122222122212", "2221122221", "221222122222", "112112221", "12212222111", "122212221121", "222122111221", "122221112111", "122212112121", "111222221222", "222211222221", "22122222221", "221222111221", "122112221122", "1222112222", "122212121221", "122212121222", "122212212221", "122122212222", "121212212221", "121221112221", "12222212122", "222222211221", "222212222211", "111112212222", "21121222221", "122222212221", "221221221111", "112212212221", "1222122221", "22112122221", "121121222", "122111221", "12122212221", "2212221121", "2222122122", "22111212221", "22121212211", "222112122221", "122222111111", "12121121211", "22212212211", "122121111222", "11211222221", "22112211221", "122112222211", "2221", "122221212212", "122211212222", "212211222221", "122212221221", "221222221221", "1222212222", "112221222222", "122222112211", "222211122221", "12111212221", "22211122122", "222212211111", "121222122122", "221222112122", "122221222122", "212222212122", "121221122221", "221221221211", "21222221121", "12212211221", "12222222111", "122222111212", "12212221211", "221211222122", "212122122221", "122122221211", "12121222211", "12122121122", "12222221221", "21112222221", "22222212121", "1222121211", "122222212222", "2122212221", "122221122222", "112212211", "12121221212", "212212221122", "122222221222", "121221222222", "121121222222", "122212221211", "2112122221", "11212211221", "121222222122", "222222111222", "121112222121", "121122121221", "22212212111", "221122122221", "11122221", "221122222221", "122222222212", "12211121221", "121221221212", "121221222121", "221221222221", "1211211221", "222212112212", "22122212221", "1222221111", "11122112112", "11221212122", "112212222", "2221222212", "221212122111", "12222221211", "121211212222", "112222221222", "121112221", "1222222211", "222212222221", "122121221112", "212212122222", "12111222221", "222212222122", "121222122111", "12221211122", "1122222122", "21111222221", "211222221222", "11222212222", "2211222122", "212212122221", "121112222221", "221212221222", "122222222211", "1212212222", "222222212212", "221222221211", "2212221221", "1222212", "212212122211", "21211212221", "111222212222", "11212121222", "22212221122", "122221121212", "212112122222", "222221212221", "12222212112", "11222221222", "1211221212", "1122221", "121212212211", "112222122122", "12211222221", "112221221221", "12112122222", "222121121222", "121222121", "222221221111", "1222222121", "22211122222", "22112222122", "122111221221", "12211222", "1121221222", "122122221", "12222211221", "1222222", "12212122221", "222212112122", "222121112122", "222212222212", "121222221211", "121222211121", "222112122122", "122122211222", "121222111222", "12212121121", "222121112221", "22222221221", "122221122121", "112221221", "221222122", "12222211112", "12222211212", "212221121", "121122121222", "1121222121", "222122221222", "22221222212", "221221121121", "121112221222", "221222211", "111112222221", "22121221121", "12121121222", "221112221221", "1122212121", "221221111221", "12211212212", "122221222221", "222212212", "222122221212", "21222212211", "21122122121", "121212221222", "112211122222", "11222122221", "2222221221", "21122211122", "112121221121", "122222121211", "22222211122", "121212222122", "12121221", "1212212221", "122222222221", "22122111221", "212122121222", "2221112121", "121122122121", "22222222122", "121212211221", "222122222121", "1212221211", "221122122", "122112222122", "12212111221", "12121221222", "22122", "212222122121", "121222221121", "212212212121", "22121212122", "112111222121", "222122112121", "22212211", "1222211222", "22221222211", "212222211221", "212221222212", "122221112211", "1121122221", "1212111222", "11221212121", "12112122211", "211212222122", "222122121221", "12212212211", "111221221222", "12221122121", "222111122221", "122212211212", "122111222122", "22222122111", "12221221221", "22122222", "211122221222", "212122221121", "222122211212", "21212122221", "2122121", "221221212121", "222212121211", "12221221222", "121212211122", "22221122122", "212122222221", "212212222211", "212222212212", "22121222221", "121221222221", "222212212211", "22221", "222111212221", "222221112211", "12222222211", "221222222211", "121211221222", "212221211222", "222112211221", "121212112222", "222121221121", "1122111222", "122221121221", "22212222121", "11122122221", "122221222111", "21122222221", "112221222211", "122122222222", "12221221211", "222122122221", "2212211", "12222211121", "112212212121", "222211122122", "21222221211", "2221222211", "221212121221", "112112122221", "11222212121", "122122212111", "2122221", "112122212212", "22222122", "1212121222", "11222121121", "222221221122", "221222222222", "21221222222", "212122221222", "12222112211", "221122211221", "111111222221", "222111222212", "1221222121", "112222211122", "21222221", "212112121221", "21121221221", "121212121221", "22221211212", "112212222121", "222122", "221212212122", "122122122221", "12121212212", "121212222111", "222221221", "112222222122", "222121222221", "21222212222", "22122112222", "122122212221", "121211222121", "221222122221", "1222122122", "122121212121", "12222211", "221212222221", "212212222122", "12222112222", "121212121121", "12222222222", "221122212211", "122221122212", "22122121121", "12211", "112212121", "1211222122", "222111221211", "12222211211", "21221222212", "122122122212", "12222212212", "122122211122", "121212122122", "122121121221", "122212111211", "12212", "112212221122", "221221122111", "122112121211", "2212121221", "22212212221", "12211212221", "1222221221", "12212122122", "22221122221", "12222212111", "12122122212", "111221122221", "112122212122", "1221112221", "121122212112", "12121211", "111122222221", "221221122122", "222122221211", "22111222222", "12212222112", "1222222221", "122111212121", "2222122121", "222122111122", "1222112122", "112211221222", "1221221221", "22221211121", "12222212222", "2212212121", "22212222222", "221222222121", "122112222222", "121212122221", "211212222221", "222112112221", "22221221", "112122122222", "11122122222", "1112212222", "212112221222", "122221122211", "122221112", "12122122222", "2212212221", "22212211111", "222122221112", "111222222122", "222112122121", "22212222122", "21212212121", "121222221212", "21221222211", "21221122121", "212211221", "12122121222", "12112121221", "1222211221", "112212222122", "121122121", "121222211221", "112212222212", "111212221222", "112112212222", "1212122211", "1212221222", "22221212121", "121221222111", "122221111111", "21221222221", "12211221222", "12112212221", "122222211211", "122222221111", "222222221221", "12212222222", "221222212212", "1221222221", "1212122221", "12212222221", "221", "21222212122", "222222122121", "222121121", "122211121222", "22121121221", "12112221221", "1222222112", "222212222", "222122121222", "22221222112", "121212211222", "122221122122", "1221121121", "12122211221", "222121122212", "22112112221", "111222122221", "121212122212", "21211222221", "2222222122", "221222122211", "2221221211", "121222212221", "11112212121", "221212122211", "11222122122", "221212212221", "12222211111", "11222212212", "212222122112", "222212121222", "221122212222", "222212112121", "1221111222", "11112221221", "11212212222", "122111122222", "12212221221", "1222211121", "112212222222", "122211221121", "12212211122", "221222122111", "11221212212", "121221222212", "222111212121", "1212222221", "122222121121", "12222121121", "122212212121", "1212212", "21221", "12221122222", "2221112222", "11212212122", "212222221222", "2221112212", "2122212222", "221221212221", "22112122121", "112122121", "222122112222", "21221222122", "222122212122", "211122121221", "12212222", "121212211111", "121212222211", "122222221121", "221222122122", "222211122", "2122122222", "2221221221", "122122222211", "122222112", "211221222212", "222221122221", "21221221121", "212221122221", "21222222121", "22121221222", "222112221222", "212222121221", "1212222122", "121222122222", "122221222112", "22111122221", "1222112221", "222222221222", "122222211212", "222221112222", "12121212211", "22122221", "2221222112", "22121222121", "12221222122", "112122221221", "122211221221", "112211212121", "122212212212", "212212111222", "122112222221", "12212112122", "121222222121", "12211112121", "1122122222", "221221122", "21222221222", "111221222122", "121222221", "12122221212", "221212222121", "112221112121", "12121211211", "122112112221", "12212111122", "21221222121", "12211222222", "22212112122", "11121221222", "22121222212", "12221121221", "222122212212", "121211212221", "22222122211", "2222112221", "121121122221", "12221212122", "122222111122", "22122212121", "222111222211", "112122212221", "122221112222", "12122211122", "121222222221", "1122122", "22211221", "22221221211", "222122121122", "122122", "22111121221", "112122122221", "22122222122", "12221222212", "22221222121", "12221212221", "1222211", "111222221221", "212122121", "222221221211", "222212222121", "21122212222", "122211222221", "122122222112", "221122221", "111211122221", "112221222", "122221111211", "22112212212", "221222222", "121122212221", "12222111", "122222111", "12221121122", "22112221222", "221122221222", "22222122121", "122222121222", "111222212211", "221221222211", "221112222221", "21222122212", "122222222122", "22122211222", "21212221211", "121212112221", "11122222221", "212221221212", "2221222", "1221221222", "112222212212", "22111222", "1222111221", "121122112221", "22212121222", "22122122221", "2222221222", "221221221122", "122111221222", "21122122221", "212212221221", "12222122211", "2221222222", "211221222121", "112222122111", "12211211121", "122112221212", "12222212221", "1222121", "121212122121", "111221122122", "12121112222", "22221221222", "221212222122", "11221112222", "212221212222", "121222212122", "122222221112", "111122221221", "122211211222", "221222122212", "222111221122", "22221112212", "221222121221", "222222212222", "12122121221", "22121121222", "1212212122", "222122222211", "1222222212", "221222122121", "222222122222", "22221222221", "222122221", "12221221121", "122221221211", "211222221", "122121221222", "121121222122", "221222112221", "21221112222", "22122221221", "11221221211", "12222221122", "121211221211", "221221122222", "21212122222", "122212122221", "211222122122", "221122222122", "2222121212", "12222212211", "112122222212", "122121211121", "122211122121", "112221212212", "122112211", "2222122221", "2212212211", "22121222122", "122222111221", "221222221121", "22222122212", "222122212111", "222122111", "221112212121", "22122122122", "212211212222", "111222212121", "12221221212", "222212212212", "112222122221", "22122121221", "21221221122", "22221222122", "2211122222", "122221221", "111221222211", "12222222", "1122221221", "221222222122", "222122222112", "222221111221", "12221112221", "122112222212", "212222212222", "1212222121", "121221211221", "1221122221", "212212221222", "11211212121", "11222122111", "122122221222", "112212222211", "212222212221", "2221122122", "122122121212", "122221221221", "22112122122", "12221211121", "122122122", "122122122222", "21222112221", "22122222111", "121212122222", "211222222122", "12121222", "221222121121", "212222122211", "1112222122", "222111221222", "222122222", "12212212121", "12121211222", "11221212221", "11222122211", "212212221211", "222212211222", "11212221212", "122222212212", "122221221122", "122222222111", "221222222221", "2221111221", "122212222212", "122221111122", "122211121", "122222122221", "122112112122", "222221121221", "2222211221", "2222122111", "2222122212", "222221221221", "11212121", "122212122211", "11221222222", "211221212221", "221122122122", "222122211121", "212212222121", "221222121222", "12122221211", "222112221221", "21112212221", "112122222121", "21221122221", "22122111111", "222121221222", "122222221122", "222222122122", "12122121211", "112122111222", "221222212211", "212222221211", "211222221221", "112121221212", "12112212122", "122222222222", "122222112221", "111221222222", "11212122121", "11212212211", "222211221222", "112122221", "212212222112", "221221111", "22221221111", "1212122222", "21212221", "22122212222", "222112221", "12212122121", "122221122", "12122222122", "212221222221", "12212221122", "12221212211", "12122112221", "111221221", "111212222121", "221122111222", "112122122211", "12121212222", "122121211212", "22222221222", "111112212121", "1222221212", "212122122121", "111111122221", "1221212212", "222212212222", "122122222221", "112221222212", "222212211221", "12112222121", "222122211222", "12122221221", "2222111222", "111221222121", "222221222221", "1221222211", "222221222122", "122222122", "22212212212", "22111222221", "122121122", "122222212211", "222221222", "121221212211", "122212112212", "12212212222", "12221221112", "121222212", "11121222221", "121222212222", "11122122122", "12222112112", "122212122112", "222212122121", "221221222", "122212212111", "122222112111", "221222221111", "221122212121", "212212221", "122122111222", "22222121212", "111221212121", "122211222", "22211221222", "12112212212", "111221221221", "221222", "1222221", "1222212112", "121122221121", "122121122211", "12112112121", "221222221", "122212212222", "112221222122", "1221222222", "222111121221", "22122122", "122221111222", "122112121221", "122121212211", "222122222222", "122122221122", "221222211221", "222122122211", "122222221", "222121221212", "112121121222", "12222221212", "122212212122", "212112222221", "22221112211", "2222211122", "222212112221", "1211212222", "121122222121", "1221122122", "2221222221", "212212222212", "122122122122", "1221222111", "1221211222", "121222122", "222221211121", "22212121", "12212111121", "22111122122", "122212212", "122111222221", "222212221122", "122122222121", "121212122111", "221221111111", "112222212211", "1122212212", "11122122", "211221221", "22222121121", "221111221", "222212211211", "1122212222", "221221", "122222211221", "21212222221", "122211211", "22221212221", "11221", "121222112121", "211122212221", "11212222221", "22121212222", "22222222221", "111122221222", "122122212211", "2212222111", "121111221212", "111221212122", "222212211122", "112121211221", "12122122211", "2212211222", "211222222221", "21221211221", "12221211212", "121212211", "122121122121", "122212122121", "21211212222", "222221222112", "221212221211", "221212212222", "121212212222", "111221222", "22212212", "121122212", "121221212221", "121221222122", "121122222221", "122222121", "122112212222", "222122222122", "22122222112", "121221212121", "112222222221", "221111221222", "1222222122", "221222211111", "12122221121", "22221112121", "222122111222", "221222212121", "122122221111", "222112212211", "11221222212", "12122212111", "22212212121", "122221122221", "112212121221", "221211122221", "122221112221", "122212121122", "122122211111", "222212122212", "222211122222", "221122221221", "221112211222", "11222221", "1212122111", "222221112212", "122112221221", "221221221222", "122221222211", "2112221222", "212212212222", "111122122122", "1212221", "122211122221", "12222221112", "12122211121", "112122121221", "221221112211", "221212122", "121122222212", "22122222222", "222211221221", "222222221", "121212222112", "112221212221", "122221211211", "212212222", "22122222121", "22122211", "1222", "212121122221", "2212221222", "121222111211", "222122212121", "12221212", "222122121", "111211222221", "12122222212", "122221111", "12222111122", "222121212221", "122221222", "22211222221", "21121122111", "212111212222", "221222112211", "121222212211", "2221221122", "222111222", "2211122221", "222222222122", "122121222122", "122212221212", "121212221221", "22122221222", "112221221222", "122222221211", "12222122122", "221111122221", "11112222122", "121122221221", "212212222222", "11122221221", "11222122222", "2222212222", "22222212222", "111112221221", "211222212121", "112122112121", "2212122121", "11221222221", "22122212212", "122222112122", "12212212112", "112221221211", "12211222211", "122222212121", "22122222211", "21222211221", "112222121121", "1222222111", "222121212211", "121222221222", "12121211221", "121121222211", "11221222211", "111122122222", "121212111222", "22122122222", "11221221222", "112222221221", "121221121221", "22221221221", "222122121121", "12212222121", "221221122211", "212211221222", "12121222221", "12222122", "12122112212", "122211222222", "2222221", "212212212221", "111212221221", "121211122222", "221222212221", "21221222", "221221211222", "2212221122", "22222211221", "12122212222", "122212122111", "22122212111", "121112122222", "222221212122", "111222222221", "2212121222", "222221122122", "2212211221", "2222212211", "122122121122", "1112222221", "222222222221", "221221222121", "2222212212", "211211221222", "122212222221", "222121121211", "222112212121", "2211122122", "122212122", "22212112212", "1211222221", "221111222221", "222212222222", "12222112212", "122122212212", "12222121212", "12222211122", "122211222121", "122121212221", "21212222121", "211222122222", "212221221221", "11121222121", "222121121221", "122121221221", "212122111121", "12222111111", "12122222121", "1222211211", "112221121221", "22121211221", "121122212222", "221112222222", "112112222221", "122221211", "22211212121", "12122212122", "112122221222", "22122221122", "122221221222", "122121221121", "221222112222", "122222112212", "2212121", "1222212221", "222221211212", "12212121", "122111122122", "122122112222", "11111122122", "222122211", "11221122122", "212222111222", "221122212212", "212121222222", "22221212122", "121211122211", "22212222111", "12212222122", "2121222221", "12222121122", "12122212112", "22111221221", "121121222221", "12221222121", "12212221121", "112222212222", "22222212212", "122121222221", "12121222112", "122122111221", "12211222121", "122122221121", "11212112121", "12211122221", "1222122212", "222212221221", "12111211221", "2122111222", "1121221", "11212222212", "121222122221", "212211212221", "222211212121", "121222121222", "12211122122", "122121222121", "121221211222", "122211211221", "222222122", "12112222212", "2221221222", "121221121", "122212212211", "222111221221", "12221122212", "121121221221", "22212211221", "2212222221", "22212211222", "22111222121", "12222222122", "221211212222", "112212222221", "122212211221", "221221221", "2222122211", "22122122111", "111111221222", "2122121222", "2211221222", "1122221222", "1222212211", "122221121121", "121222212111", "212221121222", "122", "122122112", "222212211", "112111122221", "122222122111", "212121221221", "1112212121", "122211212121", "211222122", "22222212211", "2122222121", "12221221", "22122111222", "21122222122", "12122122112", "22122122211", "12211221221", "121212112211", "122122112122", "21221221222", "1221212121", "212211122222", "122222122211", "12122221222", "11222222122", "212122222121", "122221212122", "212122121211", "112222221", "112221222221", "222212221212", "222212221222", "121222112221", "122222111222", "21222122211", "21122212121", "12221222221", "2122221222", "11111221222", "12212112111", "122122222", "21221221221", "12222222221", "2221212121", "222112212222", "122221122111", "222221212121", "212122212211", "22212112121", "122122212121"}
    # Board is stored in 1-d array of EMPTY, BLACK, WHITE

    player_positions = set()
    opponent_positions = set()
    first_player = WHITE
    opponent_player = BLACK

    @classmethod
    def standard_board(cls, size):
        pairs = (size + 1) // 2
        board = [BLACK, WHITE] * pairs
        return board[:size]

    @classmethod
    def custom_board(cls, start_position):  # str of B, W, E or .
        color_map = {"B": BLACK, "W": WHITE, "E": EMPTY, ".": EMPTY}
        board = []
        for c in start_position:
            board.append(color_map[c])
        return board

    @classmethod
    def to_string(cls, board):
        char_map = {BLACK: "B", WHITE: "W", EMPTY: "."}
        s = ""
        for p in board:
            s += char_map[p]
        return s

    def updatePositions(self):
        for i, p in enumerate(self.board):
            if p == self.first_player:
                self.player_positions.add(i)
            elif p == self.opponent_player:
                self.opponent_positions.add(i)

    def initZobristHashTable(self, HashSeed=None):
        for i in range(len(self.board)):
            random_values = []
            if HashSeed is not None:
                random.seed(HashSeed)
            else:
                random.seed(time.time())
            for j in range(3):
                random_values.append(random.getrandbits(64))

            self.hash_table.append(random_values)

    def __init__(self, start_position, first_player=WHITE, HashSeed=None):
        # we take either a board size for standard "BWBW...",
        # or a custom start string such as "BWEEWWB"
        self.first_player = first_player
        self.setOpponentPlayer()
        if type(start_position) == int:
            self.init_board = Clobber_1d.standard_board(start_position)
        else:
            self.init_board = Clobber_1d.custom_board(start_position)
        self.resetGame(first_player)
        self.updatePositions()
        self.hash_table = []
        self.board_hash_value = 0
        self.initZobristHashTable(HashSeed)
        self.getBoardHash()

        self.PROVEN_WIN = 10000
        self.PROVEN_LOSS = -10000
        self.UNKNOWN = -5

    def __hash__(self):
        return self.getBoardHash()

    def __eq__(self, other):
        return self.getBoardHash() == other.getBoardHash()

    def setOpponentPlayer(self):
        if self.first_player == WHITE:
            self.opponent_player = BLACK
        else:
            self.opponent_player = WHITE

    def isFirstPlayer(self):
        return self.toPlay == self.first_player

    def isOpponent(self):
        return self.toPlay == self.opponent_player

    def resetGame(self, first_player):
        self.board = self.init_board
        self.toPlay = first_player
        self.opponent_positions = set()
        self.player_positions = set()

    def opp_color(self):
        if self.toPlay == WHITE:
            return BLACK
        return WHITE

    def switchToPlay(self):
        self.toPlay = self.opp_color()

    def updateBoardHashValue(self, move):
        savedHashValue = self.board_hash_value
        src, to = move
        self.board_hash_value ^= self.hash_table[src][self.toPlay]
        self.board_hash_value ^= self.hash_table[to][self.opp_color()]

        self.board_hash_value ^= self.hash_table[src][EMPTY]
        self.board_hash_value ^= self.hash_table[to][self.toPlay]
        return savedHashValue

    def play(self, move):
        src, to = move
        if self.toPlay == self.first_player:
            self.player_positions.add(to)
            self.player_positions.remove(src)
            self.opponent_positions.remove(to)
        else:
            self.opponent_positions.add(to)
            self.opponent_positions.remove(src)
            self.player_positions.remove(to)
        self.board[src] = EMPTY
        self.board[to] = self.toPlay
        savedHashValue = self.updateBoardHashValue(move)
        self.switchToPlay()
        return savedHashValue

    def undoMove(self, move, savedHashValue):
        self.switchToPlay()
        src, to = move
        self.board[to] = self.opp_color()
        self.board[src] = self.toPlay
        self.board_hash_value = savedHashValue
        if self.toPlay == self.first_player:
            self.player_positions.add(src)
            self.player_positions.remove(to)
            self.opponent_positions.add(to)
        else:
            self.opponent_positions.add(src)
            self.opponent_positions.remove(to)
            self.player_positions.add(to)

    def winner(self, isEndOfGame):
        if isEndOfGame:
            return self.opp_color()
        else:
            return EMPTY

    def staticallyEvaluateForToPlay(self, isEndOfGame):
        winColor = self.winner(isEndOfGame)
        if winColor == self.toPlay:
            return self.PROVEN_WIN
        elif winColor == EMPTY:
            return self.UNKNOWN
        else:
            return self.PROVEN_LOSS

    def printPositions(self):
        print("Players in ", self.player_positions)
        print("Opponents in ", self.opponent_positions)

    def print_(self):
        print(Clobber_1d.to_string(self.board))

    def getBoardHash(self):
        if self.board_hash_value > 0:
            return self.board_hash_value
        zobristHashValue = 0
        for i, p in enumerate(self.board):
            zobristHashValue ^= self.hash_table[i][p]

        self.board_hash_value = zobristHashValue
        return self.board_hash_value

    def computePrunedMovesFromSubgames(self):

        games = dict()
        BW = BLACK + WHITE
        moves_subgame = set()
        current_game = ""
        inverse_game = ""

        isfirstPlayer = self.toPlay == self.first_player
        opp = self.opp_color()
        last = len(self.board) - 1
        positions = self.player_positions
        if not isfirstPlayer:
            positions = self.opponent_positions

        if self.toPlay == BLACK:
            winning_boards = self.winning_black_positions
            losing_boards = self.winning_white_positions
        else:
            winning_boards = self.winning_white_positions
            losing_boards = self.winning_black_positions

        for i, p in enumerate(self.board):
            if self.board[i] != EMPTY:
                current_game += str(self.board[i])
                inverse_game += str(BW - self.board[i])
                if i in positions:
                    if i > 0 and self.board[i - 1] == opp:
                        moves_subgame.add((i, i - 1))
                    if i < last and self.board[i + 1] == opp:
                        moves_subgame.add((i, i + 1))
            else:
                if len(current_game) > 0:
                    if current_game in games:
                        games.pop(current_game)
                    elif inverse_game in games:
                        games.pop(inverse_game)
                    else:
                        totalMoves = len(moves_subgame)
                        if totalMoves > 0:
                            iswinning = current_game in winning_boards
                            islosing = current_game in losing_boards
                            games[current_game] = (moves_subgame, totalMoves, iswinning, islosing)

                    current_game = ""
                    inverse_game = ""
                    moves_subgame = set()

        if len(current_game) > 0:
            if current_game in games:
                games.pop(current_game)
            elif inverse_game in games:
                games.pop(inverse_game)
            else:
                totalMoves = len(moves_subgame)
                if totalMoves > 0:
                    iswinning = current_game in winning_boards
                    islosing = current_game in losing_boards
                    games[current_game] = (moves_subgame, totalMoves, iswinning, islosing)

        allMoves = sorted(games.values(), key=lambda x: x[1], reverse=True)

        return allMoves

